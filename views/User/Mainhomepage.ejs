<!DOCTYPE html>
<html lang="zxx">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Ashion Template">
    <meta name="keywords" content="Ashion, unica, creative, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Gcart</title>

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Cookie&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&display=swap"
        rel="stylesheet">

    <!-- Css Styles -->
    <link rel="stylesheet" href="/css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="/css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="/css/elegant-icons.css" type="text/css">
    <link rel="stylesheet" href="/css/jquery-ui.min.css" type="text/css">
    <link rel="stylesheet" href="/css/magnific-popup.css" type="text/css">
    <link rel="stylesheet" href="/css/owl.carousel.min.css" type="text/css">
    <link rel="stylesheet" href="/css/slicknav.min.css" type="text/css">
    <link rel="stylesheet" href="/css/style.css" type="text/css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">


    <link rel="stylesheet" href="/assets1/vendors/mdi/css/materialdesignicons.min.css">


    <style>
        .dropdown-items {
            display: block;
            width: 100%;
            padding: 0.25rem 1.5rem;
            clear: both;
            font-weight: 400;
            color: #212529;
            text-align: inherit;
            white-space: nowrap;
            background-color: transparent;
            border: 0;
        }
    </style>
</head>

<body>


  
    <%- include('./partials/header.ejs') %>
      

        <!-- Top Images start -->
        <section class="categories">
            <div class="container-fluid">

                <div class="row">
                    <div class="col-lg-6 p-0">
                        <div class="categories__item categories__large__item set-bg"
                            data-setbg="/newpis/smart-watch-collection-social-media-banner-instagram-post-template_346454-781.avif">
                            <div class="categories__text">
                                <!-- <h1>Women’s fashion</h1>
                        <p>Sitamet, consectetur adipiscing elit, sed do eiusmod tempor incidid-unt labore
                        edolore magna aliquapendisse ultrices gravida.</p> -->
                                <a href="#">Shop now</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="row">
                            <div class="col-lg-6 col-md-6 col-sm-6 p-0">
                                <div class="categories__item set-bg" data-setbg="/img/categories/pic2.jpg">
                                    <div class="categories__text">
                                        <!-- <h4>Men’s fashion</h4>
                                <p>358 items</p> -->
                                        <!-- <a href="#">Shop now</a> -->
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6 p-0">
                                <div class="categories__item set-bg" data-setbg="/img/categories/newsmtphn2.jpeg">
                                    <div class="categories__text">
                                        <!-- <h4>Kid’s fashion</h4>
                                <p>273 items</p> -->
                                        <!-- <a href="#">Shop now</a> -->
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6 p-0">
                                <div class="categories__item set-bg" data-setbg="/img/categories/newsmatph3.jpeg">
                                    <div class="categories__text">
                                        <!-- <h4>Cosmetics</h4>
                                <p>159 items</p> -->
                                        <!-- <a href="#">Shop now</a> -->
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6 p-0">
                                <div class="categories__item set-bg" data-setbg="/img/categories/newlap1.jpeg">
                                    <div class="categories__text">
                                        <!-- <h4>Accessories</h4>
                                <p>792 items</p> -->
                                        <!-- <a href="#">Shop now</a> -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Top Images  End -->
        </div>

        <!--start filter-->

        <div class="container">
            <div class="row">

                <div class="col-md-3">
                    <!-- Sorting Dropdown -->
                    <div class="dropdown">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="sortDropdown"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Sort By
                        </button>
                        <div class="dropdown-menu" aria-labelledby="sortDropdown">
                            <a class="sort-dropdown-item" href="/mainhomepage?sort=0" data-sort="lowToHigh">Low to High</a>
                            <a class="sort-dropdown-item" href="/mainhomepage?sort=1" data-sort="highToLow">High to Low</a>
                        </div>
                    </div>
                </div>



                <div class="col-md-3">
                    <!-- Brand Dropdown -->
                    <div class="dropdow">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="brandDropdown"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Brand
                        </button>
                        <div class="dropdown-menu" aria-labelledby="brandDropdown">
                            <% prodectinfo.forEach(data=> { %>
                                <a class="dropdown-items" href="/mainhomepage?brand=<%=data.Brand %>" data-brand="brand1">
                                    <%=data.Brand %>
                                </a>
                                <% }) %>
                        </div>
                    </div>
                </div>


                <div class="col-md-3">
                    <!-- Price-based Dropdown -->
                    <div class="dropdo">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="priceDropdown"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Price
                        </button>
                        <div class="dropdown-menu" aria-labelledby="priceDropdown">
                            <a class="dropdown-items" href="/mainhomepage?sprice=0&eprice=2000" data-price="under20">2000 and
                                under</a>
                            <a class="dropdown-items" href="/mainhomepage?sprice=2000&eprice=5000" data-price="20to50">5000 -
                                2000</a>
                            <a class="dropdown-items" href="/mainhomepage?sprice=5000&eprice=100000" data-price="50plus">Over
                                5000</a>
                        </div>
                    </div>
                </div>



            </div>
        </div>



        <!--end filter-->



        <!--catergory based offers -->
        <div class="container mt-4">
            <h2>Category Offers</h2>
            <div class="row">
                <!-- Category 1 Offer -->
                <% categoryinfo.forEach(data=> { %>
                    <div class="col-lg-4 col-md-6 mb-4">
                        <div class="card" style="height: 400px; width: 100%;">

                            <div class="card-img-top"
                                style="background-image: url('/uploads/<%= data.Image %>'); background-size: cover; background-repeat: no-repeat; background-position: center center; height: 70%;">
                            </div>

                            <div class="card-body">
                                <h5 class="card-title" style="color: rgb(7, 9, 0); font-size: 1.5rem;">
                                    <%= data.Category %>
                                </h5>
                                <div class="card-text">
                                    <p class="text-success"><strong>Save up to <%= data.Discount %>%</strong></p>
                                </div>

                                <a href="/categorybasedrender/<%= data._id %>" class="btn btn-success">Shop Now</a>

                            </div>
                        </div>
                    </div>
                    <% }) %>
            </div>
        </div>
        <!--catergory based offers -->



        <!-- Product Section start -->
        <section>
            <div class="container my-5">
                <h3>All Products</h3>
                <div class="row">
                    <% prodectinfo.forEach(data=> { %>
                        <div class="col-lg-3 col-md-6 col-sm-6 d-flex">
                            <a href="/oneprodectdetails/<%= data._id %>">
                                <div class="card w-100 my-2 shadow-2-strong position-relative">
                                    <!-- Discount Sticker -->
                                    <% if (data.Discount> 0) { %>
                                        <div
                                            class="offer-sticker position-absolute top-0 end-0 rounded-pill bg-primary text-white px-2 py-1">
                                            <%= data.Discount %>%OFF
                                        </div>


                                        <% } %>

                                            <img src="uploads/<%= data.Image[0] %>" alt="Product Image" width="200"
                                                height="210" />
                                            <div class="card-body d-flex flex-column">
                                                <h6><a href="#">
                                                        <%= data.Brand %>
                                                    </a></h6>
                                                <h6><a href="#">
                                                        <%= data.Model %>
                                                    </a></h6>
                                                <h6><a href="#">
                                                        <%= data.Description %>
                                                    </a></h6>
                                                <% if (data.Discount) { %>
                                                    <!-- Display the original price -->
                                                    <div class="product__price">
                                                        <span class="text-muted">Price: ₹
                                                            <s>
                                                                <%= data.Price %>
                                                            </s></span>
                                                    </div>

                                                    <!-- Display the offer price -->
                                                    <div class="offer__price text-danger">
                                                        <span class="font-weight-bold">Offer Price: ₹<%= data.OfferPrice
                                                                %></span>
                                                    </div>

                                                    <% }else{ %>
                                                        <div class="offer__price text-primary">
                                                            <span class="font-weight-bold text-dark"> Price: ₹<%=
                                                                    data.Price %></span>
                                                        </div>


                                                        <% } %>
                                                            <!-- Display the offer percentage -->
                                                            <!-- <div class="offer__percentage">
                                    <= data.Discount %> off
                                </div> -->

                                                            <div
                                                                class="card-footer d-flex align-items-end pt-3 px-0 pb-0 mt-auto">
                                                                <a href="/login"
                                                                    class="btn btn-success shadow-0 me-1">Add to
                                                                    cart</a>
                                                                <a href="/login"
                                                                    class="btn btn-warning shadow-0 me-1">Wishlist</a>
                                                            </div>
                                            </div>
                                </div>
                            </a>
                        </div>
                        <% }) %>
                </div>
            </div>
        </section>
        <!-- Product Section End -->
        <!--pagination process-->
        <section>
            <!-- Pagination links -->
            <nav aria-label="Page navigation">
                <ul class="pagination justify-content-center"> <!-- Added justify-content-center class -->
                    <% if (currentPage> 1) { %>
                        <li class="page-item">
                            <a class="page-link" href="?page=<%= currentPage - 1 %>" aria-label="Previous">
                                <span aria-hidden="true">&laquo;</span>
                                <span class="sr-only">Previous</span>
                            </a>
                        </li>
                        <% } %>

                            <% for (let i=1; i <=totalPages; i++) { %>
                                <li class="page-item <%= i === currentPage ? 'active' : '' %>">
                                    <a class="page-link" href="?page=<%= i %>">
                                        <%= i %>
                                    </a>
                                </li>
                                <% } %>

                                    <% if (currentPage < totalPages) { %>
                                        <li class="page-item">
                                            <a class="page-link" href="?page=<%= currentPage + 1 %>" aria-label="Next">
                                                <span aria-hidden="true">&raquo;</span>
                                                <span class="sr-only">Next</span>
                                            </a>
                                        </li>
                                        <% } %>
                </ul>
            </nav>
        </section>


        <section class="trend spad">
            <div class="container">
                <div class="row">

                    <div class="col-lg-4 col-md-4 col-sm-6">
                        <div class="trend__content">

                            <div class="section-title">
                                <h4>Hot Trend</h4>
                            </div>

                            <div class="trend__item">
                                <div class="trend__item__pic">
                                    <img src="img/trend/saas.jpg" alt="">
                                </div>
                                <div class="trend__item__text">
                                    <h6>IPhone 6GB/128</h6>
                                    <!-- <div class="rating">
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                            </div> -->
                                    <div class="product__price">$ 59.0</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-4 col-md-4 col-sm-6">
                        <div class="trend__content">
                            <div class="section-title">
                                <h4>Best seller</h4>
                            </div>
                            <div class="trend__item">
                                <div class="trend__item__pic">
                                    <img src="img/trend/sxgfdfg.jpg" alt="">
                                </div>
                                <div class="trend__item__text">
                                    <h6>laptop/h6>
                                        <!-- <div class="rating">
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                            </div> -->
                                        <div class="product__price">$ 59.0</div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </section>




        <!-- Services Section Begin -->
        <section class="services spad">
            <div class="container">
                <div class="row">
                    <div class="col-lg-3 col-md-4 col-sm-6">
                        <div class="services__item">
                            <i class="fa fa-car"></i>
                            <h6>Free Shipping</h6>
                            <p>For all oder over $99</p>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-4 col-sm-6">
                        <div class="services__item">
                            <i class="fa fa-money"></i>
                            <h6>Money Back Guarantee</h6>
                            <p>If good have Problems</p>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-4 col-sm-6">
                        <div class="services__item">
                            <i class="fa fa-support"></i>
                            <h6>Online Support 24/7</h6>
                            <p>Dedicated support</p>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-4 col-sm-6">
                        <div class="services__item">
                            <i class="fa fa-headphones"></i>
                            <h6>Payment Secure</h6>
                            <p>100% secure payment</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Services Section End -->


        <!-- Footer Section Begin -->
        <!--footer-->
        <%- include('./partials/footer.ejs') %>
            <!--footer-->

            <!-- Footer Section End -->

            <!-- Search Begin -->
            <div class="search-model">
                <div class="h-100 d-flex align-items-center justify-content-center">
                    <div class="search-close-switch">+</div>
                    <form class="search-model-form">
                        <input type="text" id="search-input" placeholder="Search here.....">
                    </form>
                </div>
            </div>
            <!-- Search End -->

            <!-- Js Plugins -->
            <!-- Js Plugins -->
            <script src="js/jquery-3.3.1.min.js"></script>
            <script src="js/bootstrap.min.js"></script>
            <script src="js/jquery.magnific-popup.min.js"></script>
            <script src="js/jquery-ui.min.js"></script>
            <script src="js/mixitup.min.js"></script>
            <script src="js/jquery.countdown.min.js"></script>
            <script src="js/jquery.slicknav.js"></script>
            <script src="js/owl.carousel.min.js"></script>
            <script src="js/jquery.nicescroll.min.js"></script>
            <script src="js/main.js"></script>
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
            <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
            <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
            <script>
                $(document).ready(function () {
                    $('.dropdown-item').click(function (e) {
                        e.preventDefault();

                        // Determine the selected criteria
                        var selectedSort = $(this).data('sort');
                        var selectedBrand = $(this).data('brand');
                        var selectedPrice = $(this).data('price');

                        // Apply the sorting and filtering logic here
                        // You can use if statements or switch cases to implement sorting and filtering

                        // Example: Sorting by Price
                        if (selectedSort === 'lowToHigh') {
                            // Sort items from low to high
                            // Implement your sorting logic
                        } else if (selectedSort === 'highToLow') {
                            // Sort items from high to low
                            // Implement your sorting logic
                        }

                        // Example: Filtering by Brand
                        if (selectedBrand) {
                            // Show items with the selected brand
                            // Implement your filtering logic
                        }

                        // Example: Filtering by Price
                        if (selectedPrice === 'under20') {
                            // Show items with a price under $20
                            // Implement your filtering logic
                        } else if (selectedPrice === '20to50') {
                            // Show items with a price between $20 and $50
                            // Implement your filtering logic
                        } else if (selectedPrice === '50plus') {
                            // Show items with a price over $50
                            // Implement your filtering logic
                        }
                    });
                });
            </script>

            <script>
                // Get a reference to the dropdown menu and button
                const dropdown = document.querySelector(".dropdown");
                const sort_dropdown_item = document.querySelectorAll(".sort-dropdown-item");

              


            </script>

            <!-- redirect to product-->
            <script>
                const items = document.querySelectorAll('.prodItem')
                items.forEach((item) => {
                    console.log(item);
                    const id = item.getAttribute('data-id')
                    console.log(id);
                    item.addEventListener('click', () => {
                        window.location.href = `/oneprodectdetails/${id}`
                    })
                })

            </script>


</body>

</html>